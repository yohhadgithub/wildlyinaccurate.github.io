!function(){"use strict";function a(a){this.data=a,this.cache={}}function b(){e=new a(JSON.parse(this.responseText)),c(g),g.addEventListener("keyup",c.bind(this,g))}function c(a){clearTimeout(f),f=setTimeout(function(){var b=a.value;b.length>2?d(b,e.query(b)):d()},150)}function d(a,b){h.innerHTML=i.render({query:a,results:b})}a.prototype.matchArray=function(a,b){var c=this;return a.some(function(a){return c.match(a,b)})},a.prototype.match=function(a,b){return a.match(new RegExp(b,"i"))},a.prototype.query=function(a){var b=this;if(a=a.toLocaleLowerCase(),!this.cache[a]){var c=[];this.data.posts.forEach(function(d){(b.match(d.title,a)||b.matchArray(d.categories,a)||b.matchArray(d.tags,a))&&c.push(d)}),this.data.tags.forEach(function(d){b.match(d,a)&&c.push({type:"tag",title:d,url:"/tag/"+d+"/"})}),this.data.categories.forEach(function(d){b.match(d,a)&&c.push({type:"category",title:d,url:"/category/"+d+"/"})}),this.cache[a]=c}return this.cache[a]};var e,f,g=document.querySelector(".search-input"),h=document.querySelector(".search-results"),i=Hogan.compile(document.getElementById("tmpl-search-results").innerHTML),j=new XMLHttpRequest;j.onload=b,j.open("get","/search.json",!0),j.send()}();